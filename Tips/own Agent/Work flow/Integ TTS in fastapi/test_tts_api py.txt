import requests

# Change the URL if your FastAPI server is running elsewhere
url = "http://localhost:8000/agent/tts"
text = "Hello, this is a test from FastAPI!"

# Send as multipart/form-data to match FastAPI Form expectation
response = requests.post(url, files={"text": (None, text)})

if response.status_code == 200:
    with open("tts_output.wav", "wb") as f:
        f.write(response.content)
    print("Audio saved to tts_output.wav")
else:
    print(f"Request failed with status code {response.status_code}: {response.text}")
